webpackJsonp([2,0],{0:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var n=a(158),i=s(n),o=a(209),r=s(o);i.default.config.ignoredElements=["home","page-two"],a(198),a(205),new i.default({el:"#app",template:"<App/>",components:{App:r.default}})},159:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(210),i=s(n),o=a(211),r=s(o);t.default={name:"app",data:function(){return{app:phonon.navigator()}},mounted:function(){var e=this;this.$nextTick(function(){phonon.options({navigator:{defaultPage:"home",animatePages:!0,enableBrowserBackButton:!0},i18n:null}),window.setTimeout(function(){e.app.start()},500)})},components:{Home:i.default,PageTwo:r.default}}},160:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),i=s(n),o=a(201),r=s(o),c=a(162),l=s(c);t.default={name:"PhononHomePage",props:{app:{type:Object}},mounted:function(){var e=this;this.app.on({page:"home",preventClose:!1,content:null}),this.get_his_data(),document.addEventListener("deviceready",function(){phonon.alert("cordova 加载完毕","设备准备就绪"),e.device_ready=!0},!1)},data:function(){return{device_ready:!1,oil_type:"92#",company:"中石化",density:"",price:"",carriage:"130",result:0,his_quote:[],begin_date:"",end_date:""}},computed:{is_empty:function(){return 0==r.default.size(this.his_quote)},group_data:function(){function e(t){r.default.isPlainObject(t)&&(t.sorted_keys=r.default.chain(t).keys().sortBy().value(),r.default.each(t,function(t){return e(t)}))}var t=this,a=r.default.groupBy(this.his_quote,"date");return r.default.each(a,function(e,t){a[t]=r.default.groupBy(e,"oil_type"),r.default.each(a[t],function(e,s){a[t][s]=r.default.orderBy(e,[function(e){return parseFloat(e.result)}],["desc"])})}),e(a),this.begin_date&&(a.sorted_keys=r.default.filter(a.sorted_keys,function(e){return e>=t.begin_date})),this.end_date&&(a.sorted_keys=r.default.filter(a.sorted_keys,function(e){return e<=t.end_date})),r.default.reverse(a.sorted_keys),a}},methods:{filter_by_date:function(){console.log("begin_date="+this.begin_date,"end_date="+this.end_date)},exp_csv:function(){var e=(0,i.default)().format("YYYYMMDDHHmmssSSS");saveTextAsFile(e+".csv","test,csv,contest")},empty_input:function(){this.price=this.density="","中石化"==this.company?this.carriage=130:"中石油"==this.company?this.carriage=130:"中化"==this.company?this.carriage=220:this.carriage=""},get_his_data:function(){var e=this;l.default.then(function(t){e.his_quote=t.his_quote.find({}),0==e.his_quote.length})},clear:function(){var e=this;l.default.then(function(t){t.his_quote.remove(t.his_quote.find({})),phonon.alert("历史数据已清除","完成操作"),e.get_his_data()})},calc:function(){var e=this;return this.price&&this.carriage&&this.density?(this.result=(this.price+this.carriage)/(1e3/this.density),this.result=parseFloat(this.result).toFixed(2),console.log(this.result),void l.default.then(function(t){var a=(0,i.default)().format("YYYY-MM-DD"),s={date:a,oil_type:e.oil_type,company:e.company},n=t.his_quote.findOne(s);n?(n.result=e.result,t.his_quote.update(n)):(s.result=e.result,t.his_quote.insert(s)),e.get_his_data()})):phonon.alert("价格 或 运费 或 密度， 不能为空！","请填写参数")}}}},161:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(158),i=s(n);i.default.directive("tap",{isFn:!0,bind:function(e,t){e.on("tap",t.value)}}),t.default={name:"PhononPageTwo",props:{app:{type:Object}},data:function(){return{pizza:"",action:null}},mounted:function(){this.app.on({page:"page-two",preventClose:!0},this)},methods:{onClose:function(e){null!==this.action?e.close():phonon.alert("Before leaving this page, you must perform an action.","Action required")},onHidden:function(){this.action=null},onHashChanged:function(e){this.pizza=e},onAction:function(e){this.action="user-action","order"===e.target.getAttribute("data-order")?phonon.alert("Thank you for your order!","Dear customer"):phonon.alert("Your order has been canceled.","Dear customer")}}}},162:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(163),i=s(n),o=a(202),r=s(o),c=a(39),l=s(c),u=new l.default,d=void 0;t.default=new i.default(function(e,t){if(d)e(d);else var a=new r.default("quote.db",{adapter:u,autoload:!0,autoloadCallback:function(){d={his_quote:a.getCollection("his_quote")?a.getCollection("his_quote"):a.addCollection("his_quote")},e(d)},autosave:!0,autosaveInterval:1e3})})},198:function(e,t){},199:function(e,t){},200:function(e,t){},203:function(e,t,a){function s(e){return a(n(e))}function n(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./af":40,"./af.js":40,"./ar":47,"./ar-dz":41,"./ar-dz.js":41,"./ar-kw":42,"./ar-kw.js":42,"./ar-ly":43,"./ar-ly.js":43,"./ar-ma":44,"./ar-ma.js":44,"./ar-sa":45,"./ar-sa.js":45,"./ar-tn":46,"./ar-tn.js":46,"./ar.js":47,"./az":48,"./az.js":48,"./be":49,"./be.js":49,"./bg":50,"./bg.js":50,"./bm":51,"./bm.js":51,"./bn":52,"./bn.js":52,"./bo":53,"./bo.js":53,"./br":54,"./br.js":54,"./bs":55,"./bs.js":55,"./ca":56,"./ca.js":56,"./cs":57,"./cs.js":57,"./cv":58,"./cv.js":58,"./cy":59,"./cy.js":59,"./da":60,"./da.js":60,"./de":63,"./de-at":61,"./de-at.js":61,"./de-ch":62,"./de-ch.js":62,"./de.js":63,"./dv":64,"./dv.js":64,"./el":65,"./el.js":65,"./en-au":66,"./en-au.js":66,"./en-ca":67,"./en-ca.js":67,"./en-gb":68,"./en-gb.js":68,"./en-ie":69,"./en-ie.js":69,"./en-nz":70,"./en-nz.js":70,"./eo":71,"./eo.js":71,"./es":74,"./es-do":72,"./es-do.js":72,"./es-us":73,"./es-us.js":73,"./es.js":74,"./et":75,"./et.js":75,"./eu":76,"./eu.js":76,"./fa":77,"./fa.js":77,"./fi":78,"./fi.js":78,"./fo":79,"./fo.js":79,"./fr":82,"./fr-ca":80,"./fr-ca.js":80,"./fr-ch":81,"./fr-ch.js":81,"./fr.js":82,"./fy":83,"./fy.js":83,"./gd":84,"./gd.js":84,"./gl":85,"./gl.js":85,"./gom-latn":86,"./gom-latn.js":86,"./gu":87,"./gu.js":87,"./he":88,"./he.js":88,"./hi":89,"./hi.js":89,"./hr":90,"./hr.js":90,"./hu":91,"./hu.js":91,"./hy-am":92,"./hy-am.js":92,"./id":93,"./id.js":93,"./is":94,"./is.js":94,"./it":95,"./it.js":95,"./ja":96,"./ja.js":96,"./jv":97,"./jv.js":97,"./ka":98,"./ka.js":98,"./kk":99,"./kk.js":99,"./km":100,"./km.js":100,"./kn":101,"./kn.js":101,"./ko":102,"./ko.js":102,"./ky":103,"./ky.js":103,"./lb":104,"./lb.js":104,"./lo":105,"./lo.js":105,"./lt":106,"./lt.js":106,"./lv":107,"./lv.js":107,"./me":108,"./me.js":108,"./mi":109,"./mi.js":109,"./mk":110,"./mk.js":110,"./ml":111,"./ml.js":111,"./mr":112,"./mr.js":112,"./ms":114,"./ms-my":113,"./ms-my.js":113,"./ms.js":114,"./my":115,"./my.js":115,"./nb":116,"./nb.js":116,"./ne":117,"./ne.js":117,"./nl":119,"./nl-be":118,"./nl-be.js":118,"./nl.js":119,"./nn":120,"./nn.js":120,"./pa-in":121,"./pa-in.js":121,"./pl":122,"./pl.js":122,"./pt":124,"./pt-br":123,"./pt-br.js":123,"./pt.js":124,"./ro":125,"./ro.js":125,"./ru":126,"./ru.js":126,"./sd":127,"./sd.js":127,"./se":128,"./se.js":128,"./si":129,"./si.js":129,"./sk":130,"./sk.js":130,"./sl":131,"./sl.js":131,"./sq":132,"./sq.js":132,"./sr":134,"./sr-cyrl":133,"./sr-cyrl.js":133,"./sr.js":134,"./ss":135,"./ss.js":135,"./sv":136,"./sv.js":136,"./sw":137,"./sw.js":137,"./ta":138,"./ta.js":138,"./te":139,"./te.js":139,"./tet":140,"./tet.js":140,"./th":141,"./th.js":141,"./tl-ph":142,"./tl-ph.js":142,"./tlh":143,"./tlh.js":143,"./tr":144,"./tr.js":144,"./tzl":145,"./tzl.js":145,"./tzm":147,"./tzm-latn":146,"./tzm-latn.js":146,"./tzm.js":147,"./uk":148,"./uk.js":148,"./ur":149,"./ur.js":149,"./uz":151,"./uz-latn":150,"./uz-latn.js":150,"./uz.js":151,"./vi":152,"./vi.js":152,"./x-pseudo":153,"./x-pseudo.js":153,"./yo":154,"./yo.js":154,"./zh-cn":155,"./zh-cn.js":155,"./zh-hk":156,"./zh-hk.js":156,"./zh-tw":157,"./zh-tw.js":157};s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id=203},209:function(e,t,a){a(199);var s=a(23)(a(159),a(213),null,null);e.exports=s.exports},210:function(e,t,a){a(200);var s=a(23)(a(160),a(214),"data-v-832d564e",null);e.exports=s.exports},211:function(e,t,a){var s=a(23)(a(161),a(212),null,null);e.exports=s.exports},212:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-two",{attrs:{"data-page":"true"}},[a("header",{staticClass:"header-bar"},[a("div",{staticClass:"left"},[a("button",{staticClass:"btn pull-left icon icon-arrow-back",attrs:{"data-navigation":"$previous-page"}}),e._v(" "),a("h1",{staticClass:"title"},[e._v("Page Two")])])]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"padded-full"},[a("h2",[e._v("Order")]),e._v(" "),a("p",[e._v("1x Pizza: "+e._s(e.pizza))]),e._v(" "),a("button",{directives:[{name:"tap",rawName:"v-tap",value:e.onAction,expression:"onAction"}],staticClass:"btn negative cancel",attrs:{"data-order":"cancel"}},[e._v("Cancel")]),e._v(" "),a("button",{directives:[{name:"tap",rawName:"v-tap",value:e.onAction,expression:"onAction"}],staticClass:"btn btn-flat primary order",attrs:{"data-order":"order"}},[e._v("Order")])])])])},staticRenderFns:[]}},213:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("home",{attrs:{app:e.app}}),e._v(" "),a("page-two",{attrs:{app:e.app}})],1)},staticRenderFns:[]}},214:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("home",{attrs:{"data-page":"true"}},[a("header",{staticClass:"header-bar"},[a("div",{staticClass:"center"},[a("h1",{staticClass:"title"},[e._v("油价计算/比较工具")])])]),e._v(" "),a("div",{staticClass:"content"},[a("i",{staticClass:"sel_item"},[a("div",{staticClass:"raido_group"},[a("div",[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.oil_type,expression:"oil_type"}],attrs:{type:"radio",name:"type",value:"0#"},domProps:{checked:e._q(e.oil_type,"0#")},on:{change:[function(t){e.oil_type="0#"},function(t){e.empty_input()}]}}),e._v(" "),a("span"),e._v(" "),a("span",{staticClass:"text"},[e._v("0#")])])]),e._v(" "),a("div",[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.oil_type,expression:"oil_type"}],attrs:{type:"radio",name:"type",value:"92#"},domProps:{checked:e._q(e.oil_type,"92#")},on:{change:[function(t){e.oil_type="92#"},function(t){e.empty_input()}]}}),e._v(" "),a("span"),e._v(" "),a("span",{staticClass:"text"},[e._v("92#")])])]),e._v(" "),a("div",[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.oil_type,expression:"oil_type"}],attrs:{type:"radio",name:"type",value:"95#"},domProps:{checked:e._q(e.oil_type,"95#")},on:{change:[function(t){e.oil_type="95#"},function(t){e.empty_input()}]}}),e._v(" "),a("span"),e._v(" "),a("span",{staticClass:"text"},[e._v("95#")])])])]),e._v(" "),a("div",{staticClass:"raido_group",staticStyle:{flex:"1"}},[a("div",[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.company,expression:"company"}],attrs:{type:"radio",name:"company",value:"中石化"},domProps:{checked:e._q(e.company,"中石化")},on:{change:[function(t){e.company="中石化"},function(t){e.empty_input()}]}}),e._v(" "),a("span"),e._v(" "),a("span",{staticClass:"text"},[e._v("中石化")])])]),e._v(" "),a("div",[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.company,expression:"company"}],attrs:{type:"radio",name:"company",value:"中石油"},domProps:{checked:e._q(e.company,"中石油")},on:{change:[function(t){e.company="中石油"},function(t){e.empty_input()}]}}),e._v(" "),a("span"),e._v(" "),a("span",{staticClass:"text"},[e._v("中石油")])])]),e._v(" "),a("div",[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.company,expression:"company"}],attrs:{type:"radio",name:"company",value:"中化"},domProps:{checked:e._q(e.company,"中化")},on:{change:[function(t){e.company="中化"},function(t){e.empty_input()}]}}),e._v(" "),a("span"),e._v(" "),a("span",{staticClass:"text"},[e._v("中化")])])]),e._v(" "),a("div",[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.company,expression:"company"}],attrs:{type:"radio",name:"company",value:"其他"},domProps:{checked:e._q(e.company,"其他")},on:{change:[function(t){e.company="其他"},function(t){e.empty_input()}]}}),e._v(" "),a("span"),e._v(" "),a("span",{staticClass:"text"},[e._v("其他")])])])])]),e._v(" "),a("div",{staticClass:"parameters"},[a("div",[a("div",{staticClass:"caption"},[e._v("价格：")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price,expression:"price",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"价格"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",[a("div",{staticClass:"caption"},[e._v("运费：")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.carriage,expression:"carriage",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"运费"},domProps:{value:e.carriage},on:{input:function(t){t.target.composing||(e.carriage=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",[a("div",{staticClass:"caption"},[e._v("密度：")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.density,expression:"density",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"密度"},domProps:{value:e.density},on:{input:function(t){t.target.composing||(e.density=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("button",{staticClass:"btn primary",on:{click:function(t){t.preventDefault(),e.calc()}}},[e._v("计算")])]),e._v(" "),e.is_empty?e._e():a("div",{staticStyle:{"justify-content":"space-around"}},[a("button",{staticClass:"btn negative",staticStyle:{flex:"1"},on:{click:function(t){t.preventDefault(),e.clear()}}},[e._v("清除历史数据")]),e._v(" "),e.device_ready?a("button",{staticClass:"btn positive",staticStyle:{flex:"1"},on:{click:function(t){t.preventDefault(),e.exp_csv()}}},[e._v("导出csv")]):e._e()]),e._v(" "),e.is_empty?e._e():a("div",{staticStyle:{"justify-content":"space-around"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.begin_date,expression:"begin_date"}],staticStyle:{flex:"1"},attrs:{type:"date",placeholder:"起始日期"},domProps:{value:e.begin_date},on:{change:function(t){e.filter_by_date()},input:function(t){t.target.composing||(e.begin_date=t.target.value)}}}),e._v(" "),a("div",{staticClass:"caption"},[e._v("——")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.end_date,expression:"end_date"}],staticStyle:{flex:"1"},attrs:{type:"date",placeholder:"截止日期"},domProps:{value:e.end_date},on:{change:function(t){e.filter_by_date()},input:function(t){t.target.composing||(e.end_date=t.target.value)}}})]),e._v(" "),a("span",{staticClass:"his-data"},e._l(e.group_data.sorted_keys,function(t){return a("div",{staticClass:"date"},[a("div",{staticStyle:{"font-size":"32px"}},[e._v(e._s(t))]),e._v(" "),e._l(e.group_data[t].sorted_keys,function(s){return a("div",{staticClass:"oil_type"},[a("div",{staticStyle:{"font-size":"26px"}},[e._v(e._s(s))]),e._v(" "),a("div",{staticClass:"rank"},e._l(e.group_data[t][s],function(n,i){return a("div",[e._v("\n              "+e._s(n.company+"("+n.result+")")+"\n              "),i!=e.group_data[t][s].length-1?a("span",[e._v(" \n                 "+e._s(e.group_data[t][s][i+1]&&n.result==e.group_data[t][s][i+1].result?"=":">")+"  \n              ")]):e._e()])}))])})],2)}))])])},staticRenderFns:[]}}});
//# sourceMappingURL=app.dc691af0f46f9ac9a990.js.map